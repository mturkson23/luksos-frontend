<app-panel [title]="'Störungsmeldungen'">

  <form class="row pb-3" [formGroup]='form' (validSubmit)='onSubmit()'>
    <div class="col-md-3">
      <div class="form-group">
        <select class="form-control" formControlName="Type">
          <option value="">Select Report Type</option>
          <option value="DEFAULT">DEFAULT</option>
        </select>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <input type="date" class="form-control" placeholder="Start Date" formControlName="StartDate">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <input type="date" class="form-control" placeholder="End Date" formControlName="EndDate">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <button class="btn btn-secondary" type="submit">Search</button>
      </div>
    </div>
  </form>

  <div class="table-responsive">
    <table class="table table-striped table-bordered w-in-100 nowrap" id="table">
      <thead>
        <tr>
          <td>System</td>
          <td>Datum</td>
          <td>Von</td>
          <td>Bis</td>
          <td>Ausfall in Std.</td>
          <td>Ausfall während Betriebsstunden</td>
          <td>Angekündigter Stillstand während Betrieb</td>
          <td>Ausfall während 0-5 Uhr (7x24)</td>
          <td>Fehlerbeschreibung</td>
          <td>Fehlerursache</td>
          <td>Fehlerbehebung</td>
          <td>Lesson Learned</td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let fault of faults;">
          <td>{{ fault.related_system }}</td>
          <td>{{ fault.datum | customDate }}</td>
          <td>{{ fault.von | customTime }}</td>
          <td>{{ fault.bis | customTime }}</td>
          <td>{{ (fault.ausfaull_std/60) | number : '1.0-2' : 'en-ES' }}</td>
          <td>{{ fault.betriebsstunden }}</td>
          <td>{{ fault.stillstand }}</td>
          <td>{{ fault.between_0_5 }}</td>
          <td>{{ fault.error_description }}</td>
          <td>{{ fault.error_cause }}</td>
          <td>{{ fault.troubleshooting }}</td>
          <td>{{ fault.lesson_learned }}</td>
          <td>{{ fault.date_created | customDate }}</td>
          <td>{{ fault.resolved_date | customDate }}</td>
        </tr>
      </tbody>
    </table>
  </div>


</app-panel>
