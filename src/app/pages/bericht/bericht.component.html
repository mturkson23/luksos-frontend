<app-panel [title]="'Störungsmeldungen'">

  <form class="row pb-3" [formGroup]='form' (validSubmit)='onSubmit()'>
    <div class="col-md-3">
      <div class="form-group">
        <select class="form-control" formControlName="Type">
          <option value="">Wählen Sie den Fehlertyp aus</option>
          <option [value]="type.name" *ngFor="let type of faultTypes">{{ type.name }}</option>
        </select>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <input type="date" class="form-control" placeholder="Start Date" formControlName="StartDate">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <input type="date" class="form-control" placeholder="End Date" formControlName="EndDate">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <button class="btn btn-secondary" type="submit">Search</button>
      </div>
    </div>
  </form>

  <div class="table-responsive">
    <table class="table table-striped table-bordered w-in-100 nowrap" id="table">
    <thead>
      <tr>
        <td>ID</td>
        <td>ERSTELLDATUM</td>
        <td>STATUS</td>
        <td>TITEL</td>
        <td>BEKANNT SEIT</td>
        <td>BEHOBEN AM/UM</td>
        <td></td>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let fault of faults;">
        <td>{{ fault.id }}</td>
        <td>{{ fault.reported_date | customDate }}</td>
        <td>{{ fault.state }}</td>
        <td>{{ fault.title }}</td>
        <td>{{ fault.date_created | customDate }}</td>
        <td>{{ fault.resolved_date | customDate }}</td>
        <td><button (click)="goToEdit(fault.id)" class="btn"><img height="30px" src="assets/img/edit_pencil.svg"/></button></td>
      </tr>
    </tbody>
  </table>
  </div>
</app-panel>
